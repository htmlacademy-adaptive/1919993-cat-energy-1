const navMain=document.querySelector(".main-nav"),navToggle=document.querySelector(".main-nav__toggle");let clicked=0;const slider=document.querySelector(".example-slider"),sliderButton=document.querySelector(".example-slider__comp"),imgOverlay=document.querySelector(".example-slider__comp-img--overlay");let sliderWidth=0;function slide(e){imgOverlay.style.width=e+"px",sliderButton.style.left=imgOverlay.offsetWidth-sliderButton.offsetWidth/2+"px"}function getCursorPos(e){let i=0,n=0;return e=e.changedTouches?e.changedTouches[0]:e,i=imgOverlay.getBoundingClientRect(),n=e.pageX-i.left,n-=window.scrollX,n}function slideMove(e){let i=0;if(0==clicked)return!1;i=getCursorPos(e),i<0&&(i=0),i>sliderWidth&&(i=sliderWidth),slide(i)}function slideReady(e){e.preventDefault(),clicked=1}function slideFinish(e){clicked=0}function compareImages(){sliderWidth=slider.offsetWidth,imgOverlay.style.width=sliderWidth/2+"px",sliderButton.style.left=sliderWidth/2-sliderButton.offsetWidth/2+"px"}function initSlider(){compareImages()}function init(){initSlider(),window.addEventListener("resize",initSlider),sliderButton.addEventListener("mousedown",slideReady),window.addEventListener("mouseup",slideFinish),window.addEventListener("mousemove",slideMove),sliderButton.addEventListener("touchstart",slideReady),window.addEventListener("touchend",slideFinish),window.addEventListener("touchmove",slideMove)}navMain.classList.remove("main-nav--nojs"),navToggle.addEventListener("click",(function(){navMain.classList.contains("main-nav--closed")?(navMain.classList.remove("main-nav--closed"),navMain.classList.add("main-nav--opened")):(navMain.classList.add("main-nav--closed"),navMain.classList.remove("main-nav--opened"))})),init();